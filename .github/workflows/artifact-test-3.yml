name: Artifact-Test

on:
  workflow_dispatch:

jobs:
  artifact_matrix:
    name: matrix (${{ matrix.char }})
    runs-on: ubuntu-slim
    strategy:
      fail-fast: false
      matrix:
        char:
          - "\u5B66"
          - "\u5712"
          - "\u672C"
          - "\u90E8"
          - "\u6559"
          - "\u80B2"
          - "\u7CFB"
          - "\u30D1"
          - "\u30B9"
          - "\u30EF"
          - "\u30FC"
          - "\u30C9"
          - "\u5909"
          - "\u66F4"
          - "\u5B9F"
          - "\u7FD2"
          - "\u30DB"
          - "\u30E0"
          - "\u30DA"
          - "\u30B8"
          - "\u30E6"
          - "\u30B6"
          - "\u7BA1"
          - "\u7406"
          - "\u30E1"
          - "\u30EB"
          - "\u6642"
          - "\u523B"
          - "\u540C"
          - "\u671F"
          - "\u30B5"
          - "\u30A4"
          - "\u30DC"
          - "\u30A6"
          - "\u30BA"
          - "\u30AC"
          - "\u30F3"
          - "\u5168"
          - "\u6587"
          - "\u691C"
          - "\u7D22"

    steps:
      - name: Create source file
        run: |
          mkdir -p source
          printf 'artifact-content-%s\n' "$(date -u +%Y%m%dT%H%M%SZ)" > source/test.txt

      - name: Upload artifact
        uses: actions/upload-artifact@v4
        with:
          name: probe-${{ matrix.char }}-x
          path: source/test.txt
          retention-days: 1
          if-no-files-found: error

      - name: Download artifact
        uses: actions/download-artifact@v4
        with:
          name: probe-${{ matrix.char }}-x
          path: downloaded
