name: Artifact-Test

on:
  schedule:
    - cron: '0 * * * *'
  workflow_dispatch:

jobs:
  artifact-1:
    name: Artifact "日"
    runs-on: ubuntu-latest

    steps:
      - name: Create source file
        run: |
          mkdir -p source
          printf 'artifact-content-%s\n' "$(date -u +%Y%m%dT%H%M%SZ)" > source/test.txt

      - name: Upload artifact ("日")
        uses: actions/upload-artifact@v6
        with:
          name: 日
          path: source/test.txt
          if-no-files-found: error

      - name: Download artifact (ASCII name)
        uses: actions/download-artifact@v7
        with:
          name: 日
          path: downloaded

  artifact-2:
    name: Artifact "同"
    runs-on: ubuntu-latest

    steps:
      - name: Create source file
        run: |
          mkdir -p source
          printf 'artifact-content-%s\n' "$(date -u +%Y%m%dT%H%M%SZ)" > source/test.txt

      - name: Upload artifact ("同")
        uses: actions/upload-artifact@v6
        with:
          name: 同
          path: source/test.txt
          if-no-files-found: error

      - name: Download artifact (ASCII name)
        uses: actions/download-artifact@v7
        with:
          name: 同
          path: downloaded

  artifact-3:
    name: Artifact "理"
    runs-on: ubuntu-latest

    steps:
      - name: Create source file
        run: |
          mkdir -p source
          printf 'artifact-content-%s\n' "$(date -u +%Y%m%dT%H%M%SZ)" > source/test.txt

      - name: Upload artifact (Non-ASCII name)
        uses: actions/upload-artifact@v6
        with:
          name: 理
          path: source/test.txt
          if-no-files-found: error

      - name: Download artifact (Non-ASCII name)
        uses: actions/download-artifact@v7
        with:
          name: 理
          path: downloaded
